<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Newly Optimized RF24Network Layer: Network_Ping_Sleep.ino</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Newly Optimized RF24Network Layer<span id="projectnumber">&#160;v1.0.22</span>
   </div>
   <div id="projectbrief">2020 - Optimized RF24 Network Layer for NRF24L01 radios</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Network_Ping_Sleep.ino</div></div>
</div><!--header-->
<div class="contents">
<p>Example: This is almost exactly the same as the Network_Ping example, but with use of the integrated sleep mode.</p>
<p>This example demonstrates how nodes on the network utilize sleep mode to conserve power. For example, the radio itself will draw about 13.5mA in receive mode. In sleep mode, it will use as little as 22ua (.000022mA) of power when not actively transmitting or receiving data. In addition, the Arduino is powered down as well, dropping network power consumption dramatically compared to previous capabilities. <br  />
 Note: Sleeping nodes generate traffic that will wake other nodes up. This may be mitigated with further modifications. Sleep payloads are currently always routed to the master node, which will wake up intermediary nodes. Routing nodes can be configured to go back to sleep immediately. The displayed millis() count will give an indication of how much a node has been sleeping compared to the others, as millis() will not increment while a node sleeps.</p>
<ul>
<li>Using this sketch, each node will send a ping to every other node in the network every few seconds.<br  />
</li>
<li>The <a class="el" href="classRF24Network.html">RF24Network</a> library will route the message across the mesh to the correct node.</li>
</ul>
<div class="fragment"><div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;avr/pgmspace.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;avr/sleep.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;avr/power.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;printf.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;SPI.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;RF24.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="RF24Network_8h.html">RF24Network.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">/***********************************************************************</span></div>
<div class="line"><span class="comment">************* Set the Node Address *************************************</span></div>
<div class="line"><span class="comment">************************************************************************/</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// These are the Octal addresses that will be assigned</span></div>
<div class="line"><span class="keyword">const</span> uint16_t node_address_set[10] = { 00, 02, 05, 012, 015, 022, 025, 032, 035, 045 };</div>
<div class="line"> </div>
<div class="line"><span class="comment">// 0 = Master</span></div>
<div class="line"><span class="comment">// 1-2  (02, 05)   = Children of Master(00)</span></div>
<div class="line"><span class="comment">// 3, 5 (012, 022) = Children of (02)</span></div>
<div class="line"><span class="comment">// 4, 6 (015, 025) = Children of (05)</span></div>
<div class="line"><span class="comment">// 7    (032)      = Child of (02)</span></div>
<div class="line"><span class="comment">// 8, 9 (035, 045) = Children of (05)</span></div>
<div class="line"> </div>
<div class="line">uint8_t NODE_ADDRESS = 1;  <span class="comment">// Use numbers 0 through 9 to select an address from the array</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/***********************************************************************/</span></div>
<div class="line"><span class="comment">/***********************************************************************/</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">RF24 radio(7, 8);  <span class="comment">// CE &amp; CS pins to use (Using 7,8 on Uno,Nano)</span></div>
<div class="line"><a id="_a0" name="_a0"></a><a class="code hl_class" href="classRF24Network.html">RF24Network</a> network(radio);</div>
<div class="line"> </div>
<div class="line">uint16_t this_node;  <span class="comment">// Our node address</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> interval = 1000;  <span class="comment">// Delay manager to send pings regularly (in ms). Because of sleepNode(), this is largely irrelevant.</span></div>
<div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> last_time_sent;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">short</span> max_active_nodes = 10;  <span class="comment">// Array of nodes we are aware of</span></div>
<div class="line">uint16_t active_nodes[max_active_nodes];</div>
<div class="line"><span class="keywordtype">short</span> num_active_nodes = 0;</div>
<div class="line"><span class="keywordtype">short</span> next_ping_node_index = 0;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> send_T(uint16_t to);  <span class="comment">// Prototypes for functions to send &amp; handle messages</span></div>
<div class="line"><span class="keywordtype">bool</span> send_N(uint16_t to);</div>
<div class="line"><span class="keywordtype">void</span> handle_T(<a id="_a1" name="_a1"></a><a class="code hl_struct" href="structRF24NetworkHeader.html">RF24NetworkHeader</a>&amp; header);</div>
<div class="line"><span class="keywordtype">void</span> handle_N(<a class="code hl_struct" href="structRF24NetworkHeader.html">RF24NetworkHeader</a>&amp; header);</div>
<div class="line"><span class="keywordtype">void</span> add_node(uint16_t node);</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">//This is for sleep mode. It is not really required, as users could just use the number 0 through 10</span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> { wdt_16ms = 0,</div>
<div class="line">               wdt_32ms,</div>
<div class="line">               wdt_64ms,</div>
<div class="line">               wdt_128ms,</div>
<div class="line">               wdt_250ms,</div>
<div class="line">               wdt_500ms,</div>
<div class="line">               wdt_1s,</div>
<div class="line">               wdt_2s,</div>
<div class="line">               wdt_4s,</div>
<div class="line">               wdt_8s } wdt_prescalar_e;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> awakeTime = 500;  <span class="comment">// How long in ms the radio will stay awake after leaving sleep mode</span></div>
<div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> sleepTimer = 0;   <span class="comment">// Used to keep track of how long the system has been awake</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> setup() {</div>
<div class="line"> </div>
<div class="line">  Serial.begin(115200);</div>
<div class="line">  printf_begin();  <span class="comment">// needed for RF24* libs&#39; internal printf() calls</span></div>
<div class="line">  <span class="keywordflow">while</span> (!Serial) {</div>
<div class="line">    <span class="comment">// some boards need this because of native USB capability</span></div>
<div class="line">  }</div>
<div class="line">  Serial.println(F(<span class="stringliteral">&quot;RF24Network/examples/meshping/&quot;</span>));</div>
<div class="line"> </div>
<div class="line">  this_node = node_address_set[NODE_ADDRESS];  <span class="comment">// Which node are we?</span></div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (!radio.begin()) {</div>
<div class="line">    Serial.println(F(<span class="stringliteral">&quot;Radio hardware not responding!&quot;</span>));</div>
<div class="line">    <span class="keywordflow">while</span> (1) {</div>
<div class="line">      <span class="comment">// hold in infinite loop</span></div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  radio.setPALevel(RF24_PA_HIGH);</div>
<div class="line">  radio.setChannel(100);</div>
<div class="line">  network.begin(<span class="comment">/*node address*/</span> this_node);</div>
<div class="line"> </div>
<div class="line"><span class="comment">  /******************************** This is the configuration for sleep mode ***********************/</span></div>
<div class="line">  network.setup_watchdog(wdt_1s);  <span class="comment">//The watchdog timer will wake the MCU and radio every second to send a sleep payload, then go back to sleep</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> loop() {</div>
<div class="line"> </div>
<div class="line">  network.update();  <span class="comment">// Pump the network regularly</span></div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">while</span> (network.available()) {  <span class="comment">// Is there anything ready for us?</span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_struct" href="structRF24NetworkHeader.html">RF24NetworkHeader</a> header;  <span class="comment">// If so, take a look at it</span></div>
<div class="line">    network.peek(header);</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">switch</span> (header.<a id="a2" name="a2"></a><a class="code hl_variable" href="structRF24NetworkHeader.html#ac99ab14e561670f4445d1fea7775e2db">type</a>) {  <span class="comment">// Dispatch the message to the correct handler.</span></div>
<div class="line">      <span class="keywordflow">case</span> <span class="charliteral">&#39;T&#39;</span>:</div>
<div class="line">        handle_T(header);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">case</span> <span class="charliteral">&#39;N&#39;</span>:</div>
<div class="line">        handle_N(header);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">      /************* SLEEP MODE *********/</span></div>
<div class="line">      <span class="comment">// Note: A &#39;sleep&#39; header has been defined, and should only need to be ignored if a node is routing traffic to itself</span></div>
<div class="line">      <span class="comment">// The header is defined as:  RF24NetworkHeader sleepHeader(/*to node*/ 00, /*type*/ &#39;S&#39; /*Sleep*/);</span></div>
<div class="line">      <span class="keywordflow">case</span> <span class="charliteral">&#39;S&#39;</span>:</div>
<div class="line">        <span class="comment">/*This is a sleep payload, do nothing*/</span></div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">default</span>:</div>
<div class="line">        Serial.print(F(<span class="stringliteral">&quot;*** WARNING *** Unknown message type &quot;</span>));</div>
<div class="line">        Serial.println(header.<a class="code hl_variable" href="structRF24NetworkHeader.html#ac99ab14e561670f4445d1fea7775e2db">type</a>);</div>
<div class="line">        network.read(header, 0, 0);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    };</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line"><span class="comment">  /***************************** CALLING THE NEW SLEEP FUNCTION ************************/</span></div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (millis() - sleepTimer &gt; awakeTime &amp;&amp; NODE_ADDRESS) {</div>
<div class="line">    <span class="comment">// Want to make sure the Arduino stays awake for a little while when data comes in.</span></div>
<div class="line">    <span class="comment">// Do NOT sleep if master node.</span></div>
<div class="line">    Serial.println(F(<span class="stringliteral">&quot;Sleep&quot;</span>));</div>
<div class="line">    sleepTimer = millis();    <span class="comment">// Reset the timer value</span></div>
<div class="line">    delay(100);               <span class="comment">// Give the Serial print some time to finish up</span></div>
<div class="line">    radio.stopListening();    <span class="comment">// Switch to PTX mode. Payloads will be seen as ACK payloads, and the radio will wake up</span></div>
<div class="line">    network.sleepNode(8, 0);  <span class="comment">// Sleep the node for 8 cycles of 1second intervals</span></div>
<div class="line">    Serial.println(F(<span class="stringliteral">&quot;Awake&quot;</span>));</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">//Examples:</span></div>
<div class="line">  <span class="comment">// network.sleepNode(cycles, interrupt-pin);</span></div>
<div class="line">  <span class="comment">// network.sleepNode(0, 0);         // The WDT is configured in this example to sleep in cycles of 1 second. This will sleep 1 second, or until a payload is received</span></div>
<div class="line">  <span class="comment">// network.sleepNode(1, 255);       // Sleep this node for 1 second. Do not wake up until then, even if a payload is received ( no interrupt ) Payloads will be lost.</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">  /****  end sleep section ***/</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> now = millis();  <span class="comment">// Send a ping to the next node every &#39;interval&#39; ms</span></div>
<div class="line">  <span class="keywordflow">if</span> (now - last_time_sent &gt;= interval) {</div>
<div class="line">    last_time_sent = now;</div>
<div class="line"> </div>
<div class="line">    uint16_t to = 00;  <span class="comment">// Who should we send to? By default, send to base</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (num_active_nodes) {                           <span class="comment">// Or if we have active nodes,</span></div>
<div class="line">      to = active_nodes[next_ping_node_index++];      <span class="comment">// Send to the next active node</span></div>
<div class="line">      <span class="keywordflow">if</span> (next_ping_node_index &gt; num_active_nodes) {  <span class="comment">// Have we rolled over?</span></div>
<div class="line">        next_ping_node_index = 0;                     <span class="comment">// Next time start at the beginning</span></div>
<div class="line">        to = 00;                                      <span class="comment">// This time, send to node 00.</span></div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">bool</span> ok;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (this_node &gt; 00 || to == 00) {  <span class="comment">// Normal nodes send a &#39;T&#39; ping</span></div>
<div class="line">      ok = send_T(to);</div>
<div class="line">    } <span class="keywordflow">else</span> {  <span class="comment">// Base node sends the current active nodes out</span></div>
<div class="line">      ok = send_N(to);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (ok) {  <span class="comment">// Notify us of the result</span></div>
<div class="line">      Serial.print(millis());</div>
<div class="line">      Serial.println(F(<span class="stringliteral">&quot;: APP Send ok&quot;</span>));</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      Serial.print(millis());</div>
<div class="line">      Serial.println(F(<span class="stringliteral">&quot;: APP Send failed&quot;</span>));</div>
<div class="line">      last_time_sent -= 100;  <span class="comment">// Try sending at a different time next time</span></div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> send_T(uint16_t to) {</div>
<div class="line">  <a class="code hl_struct" href="structRF24NetworkHeader.html">RF24NetworkHeader</a> header(<span class="comment">/*to node*/</span> to, <span class="comment">/*type*/</span> <span class="charliteral">&#39;T&#39;</span> <span class="comment">/*Time*/</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// The &#39;T&#39; message that we send is just a ulong, containing the time</span></div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> message = millis();</div>
<div class="line">  Serial.println(F(<span class="stringliteral">&quot;---------------------------------&quot;</span>));</div>
<div class="line">  Serial.print(millis());</div>
<div class="line">  Serial.print(F(<span class="stringliteral">&quot;: APP Sending &quot;</span>));</div>
<div class="line">  Serial.print(message);</div>
<div class="line">  Serial.print(F(<span class="stringliteral">&quot; to &quot;</span>));</div>
<div class="line">  Serial.print(to);</div>
<div class="line">  Serial.println(F(<span class="stringliteral">&quot;...&quot;</span>));</div>
<div class="line">  <span class="keywordflow">return</span> network.write(header, &amp;message, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> send_N(uint16_t to) {</div>
<div class="line">  <a class="code hl_struct" href="structRF24NetworkHeader.html">RF24NetworkHeader</a> header(<span class="comment">/*to node*/</span> to, <span class="comment">/*type*/</span> <span class="charliteral">&#39;N&#39;</span> <span class="comment">/*Time*/</span>);</div>
<div class="line"> </div>
<div class="line">  Serial.println(F(<span class="stringliteral">&quot;---------------------------------&quot;</span>));</div>
<div class="line">  Serial.print(millis());</div>
<div class="line">  Serial.print(F(<span class="stringliteral">&quot;: APP Sending active nodes to &quot;</span>));</div>
<div class="line">  Serial.print(to);</div>
<div class="line">  Serial.println(F(<span class="stringliteral">&quot;...&quot;</span>));</div>
<div class="line">  <span class="keywordflow">return</span> network.write(header, active_nodes, <span class="keyword">sizeof</span>(active_nodes));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> handle_T(<a class="code hl_struct" href="structRF24NetworkHeader.html">RF24NetworkHeader</a>&amp; header) {</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> message;  <span class="comment">// The &#39;T&#39; message is just a ulong, containing the time</span></div>
<div class="line">  network.read(header, &amp;message, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>));</div>
<div class="line">  Serial.print(millis());</div>
<div class="line">  Serial.print(F(<span class="stringliteral">&quot;: APP Received &quot;</span>));</div>
<div class="line">  Serial.print(message);</div>
<div class="line">  Serial.print(F(<span class="stringliteral">&quot; from &quot;</span>));</div>
<div class="line">  Serial.print(header.<a id="a3" name="a3"></a><a class="code hl_variable" href="structRF24NetworkHeader.html#aff9461f6546b5b7c87465809eb4f9f56">from_node</a>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (header.<a class="code hl_variable" href="structRF24NetworkHeader.html#aff9461f6546b5b7c87465809eb4f9f56">from_node</a> != this_node || header.<a class="code hl_variable" href="structRF24NetworkHeader.html#aff9461f6546b5b7c87465809eb4f9f56">from_node</a> &gt; 00)  <span class="comment">// If this message is from ourselves or the base, don&#39;t bother adding it to the active nodes.</span></div>
<div class="line">    add_node(header.<a class="code hl_variable" href="structRF24NetworkHeader.html#aff9461f6546b5b7c87465809eb4f9f56">from_node</a>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> handle_N(<a class="code hl_struct" href="structRF24NetworkHeader.html">RF24NetworkHeader</a>&amp; header) {</div>
<div class="line">  <span class="keyword">static</span> uint16_t incoming_nodes[max_active_nodes];</div>
<div class="line"> </div>
<div class="line">  network.read(header, &amp;incoming_nodes, <span class="keyword">sizeof</span>(incoming_nodes));</div>
<div class="line">  Serial.print(millis());</div>
<div class="line">  Serial.print(F(<span class="stringliteral">&quot;: APP Received nodes from &quot;</span>));</div>
<div class="line">  Serial.println(header.<a class="code hl_variable" href="structRF24NetworkHeader.html#aff9461f6546b5b7c87465809eb4f9f56">from_node</a>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">int</span> i = 0;</div>
<div class="line">  <span class="keywordflow">while</span> (i &lt; max_active_nodes &amp;&amp; incoming_nodes[i] &gt; 00)</div>
<div class="line">    add_node(incoming_nodes[i++]);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> add_node(uint16_t node) {</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">short</span> i = num_active_nodes;  <span class="comment">// Do we already know about this node?</span></div>
<div class="line">  <span class="keywordflow">while</span> (i--) {</div>
<div class="line">    <span class="keywordflow">if</span> (active_nodes[i] == node)</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (i == -1 &amp;&amp; num_active_nodes &lt; max_active_nodes) {  <span class="comment">// If not, add it to the table</span></div>
<div class="line">    active_nodes[num_active_nodes++] = node;</div>
<div class="line">    Serial.print(millis());</div>
<div class="line">    Serial.print(F(<span class="stringliteral">&quot;: APP Added &quot;</span>));</div>
<div class="line">    Serial.print(node);</div>
<div class="line">    Serial.print(F(<span class="stringliteral">&quot; to list of active nodes.&quot;</span>));</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="aRF24Network_8h_html"><div class="ttname"><a href="RF24Network_8h.html">RF24Network.h</a></div></div>
<div class="ttc" id="aclassRF24Network_html"><div class="ttname"><a href="classRF24Network.html">RF24Network</a></div><div class="ttdef"><b>Definition:</b> RF24Network.h:375</div></div>
<div class="ttc" id="astructRF24NetworkHeader_html"><div class="ttname"><a href="structRF24NetworkHeader.html">RF24NetworkHeader</a></div><div class="ttdef"><b>Definition:</b> RF24Network.h:226</div></div>
<div class="ttc" id="astructRF24NetworkHeader_html_ac99ab14e561670f4445d1fea7775e2db"><div class="ttname"><a href="structRF24NetworkHeader.html#ac99ab14e561670f4445d1fea7775e2db">RF24NetworkHeader::type</a></div><div class="ttdeci">unsigned char type</div><div class="ttdef"><b>Definition:</b> RF24Network.h:243</div></div>
<div class="ttc" id="astructRF24NetworkHeader_html_aff9461f6546b5b7c87465809eb4f9f56"><div class="ttname"><a href="structRF24NetworkHeader.html#aff9461f6546b5b7c87465809eb4f9f56">RF24NetworkHeader::from_node</a></div><div class="ttdeci">uint16_t from_node</div><div class="ttdef"><b>Definition:</b> RF24Network.h:228</div></div>
</div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jan 10 2025 21:33:08 for Newly Optimized RF24Network Layer by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
